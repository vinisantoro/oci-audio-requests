# SAML SSO Configuration for OCI Identity Providers (Broker/Intermediary)
# Copy this file and configure with your OCI Identity Provider settings
#
# IMPORTANT: Use OCI Identity Provider settings, not your corporate IdP directly.
# The OCI Identity Provider acts as a broker/intermediary between your app
# and your corporate SAML IdP.

# ============================================================================
# OPTION A: Using Metadata URL (Recommended - Easiest)
# ============================================================================
# Get this from OCI Console > Identity & Security > Identity > Identity Providers > [Your IdP] > Metadata
OCI_IDP_METADATA_URL=https://identity.oraclecloud.com/v1/identity/saml/metadata/<your-idp-ocid>

# Or use generic name (for compatibility):
# SAML_IDP_METADATA_URL=https://identity.oraclecloud.com/v1/identity/saml/metadata/<your-idp-ocid>

# ============================================================================
# OPTION B: Manual Configuration (if Metadata URL not available)
# ============================================================================
# SSO URL from your OCI Identity Provider
# Get this from OCI Console > Identity & Security > Identity > Identity Providers > [Your IdP] > Details
# Example: https://identity.oraclecloud.com/v1/identity/saml/sso/<idp-ocid>
OCI_IDP_SSO_URL=https://identity.oraclecloud.com/v1/identity/saml/sso/<your-idp-ocid>

# Optional: Single Logout URL (if different from SSO URL)
# If not provided, will be derived from SSO URL
# SAML_IDP_SLO_URL=https://your-idp-domain.com/slo

# Identity Provider Certificate(s) - Only needed if not using Metadata URL
# You can provide one or more certificates (separate multiple certificates with -----SPLIT-----)
# Get this from OCI Console > Identity & Security > Identity > Identity Providers > [Your IdP] > Details > Certificates
OCI_IDP_CERTIFICATES=-----BEGIN CERTIFICATE-----
YOUR_OCI_IDP_CERTIFICATE_HERE
-----END CERTIFICATE-----

# Optional: Single Logout URL (if different from SSO URL)
# Usually: https://identity.oraclecloud.com/v1/identity/saml/slo/<idp-ocid>
OCI_IDP_SLO_URL=https://identity.oraclecloud.com/v1/identity/saml/slo/<your-idp-ocid>

# Service Provider (SP) Configuration
# Entity ID for your application (usually your app URL + /api/saml/metadata)
# Will default to VERCEL_URL/api/saml/metadata if not provided
# SAML_SP_ENTITY_ID=https://your-app.vercel.app/api/saml/metadata

# Assertion Consumer Service URL (where IdP sends SAML response)
# Will default to VERCEL_URL/api/saml/callback if not provided
# SAML_ACS_URL=https://your-app.vercel.app/api/saml/callback

# Single Logout Service URL
# Will default to VERCEL_URL/api/saml/logout if not provided
# SAML_SLO_URL=https://your-app.vercel.app/api/saml/logout

# Optional: Service Provider Private Key (if you want to sign requests)
# Usually not required for basic SAML SSO
# SAML_SP_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----
# YOUR_PRIVATE_KEY_HERE
# -----END PRIVATE KEY-----

# Optional: Service Provider Certificate (if you want to sign requests)
# Usually not required for basic SAML SSO
# SAML_SP_CERTIFICATE=-----BEGIN CERTIFICATE-----
# YOUR_SP_CERTIFICATE_HERE
# -----END CERTIFICATE-----

# Existing OCI Configuration (still required)
OCI_UPLOAD_URL=https://objectstorage.region.oraclecloud.com/p/par-id/n/namespace/b/bucket/o/

# Optional: Allowed emails list (for additional security layer)
# If provided, only these emails will be allowed even after SAML authentication
# Leave empty to allow all authenticated SAML users
# ALLOWED_EMAILS=["user1@example.com","user2@example.com"]

